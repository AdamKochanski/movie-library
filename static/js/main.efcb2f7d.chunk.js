(this["webpackJsonpmovie-library"]=this["webpackJsonpmovie-library"]||[]).push([[0],{101:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),l=a.n(c),o=a(19),s=a(23),i=a(59),u=a(12),m=a(64),d=a(140),p=a(42),h=a.n(p),v="a816a5e1b96a295b1b1cfbcf3c9c90ca",f="https://api.themoviedb.org/3/",g="https://image.tmdb.org/t/p/w300/",b="".concat(f,"search/movie?api_key=").concat(v,"&language=").concat("en-US","&include_adult=").concat(!1,"&query="),E=[{id:0,name:"OFF"},{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],y=function(e){return{type:"results_update",payload:e}},j=function(e){return{type:"selected_details_update",payload:e}},O=function(e,t){return function(a){h()("".concat(b+e,"&page=").concat(t)).then((function(e){var t=e.data;a(y(t))}))}},_=function(e,t){return function(a){0!==e?h()("".concat(f,"discover/movie?api_key=").concat(v,"&page=").concat(t,"&with_genres=").concat(e)).then((function(e){var t=e.data;a(y(t))})):a({type:"results_reset",payload:[]})}},w=a(141),P=a(131),k=a(139),M=a(143),N=a(137);var S=function(e){var t=e.handleSelect;return r.a.createElement(P.a,null,r.a.createElement(k.a,{onChange:t,defaultValue:0},E.map((function(e){return r.a.createElement(M.a,{key:e.id,value:e.id},e.name)}))),r.a.createElement(N.a,null,"Search by genre"))};var C=function(e){var t=e.handleInput,a=e.handleSelect,n=e.totalResults;return r.a.createElement("section",{className:"searchBox-wrap"},r.a.createElement(S,{handleSelect:a}),r.a.createElement(w.a,{label:"Search by phrase",placeholder:"Confirm with Enter",className:"searchBox",onKeyPress:t}),r.a.createElement("p",{className:"amount"},r.a.createElement("span",null,"Total results: "),n))},I=a(40),R=a.n(I);var x=function(e){var t=e.result,a=e.openPopup;return r.a.createElement("div",{role:"button",tabIndex:0,className:"result",onKeyDown:function(){return a(t.id)},onClick:function(){return a(t.id)}},null!==t.poster_path?r.a.createElement("img",{src:g+t.poster_path,alt:t.title}):r.a.createElement("img",{src:R.a,alt:"Poster is not available"}),r.a.createElement("h3",null,t.title))};var A=function(e){var t=e.results,a=e.openPopup;return r.a.createElement("section",{className:"results"},t.map((function(e){return r.a.createElement(x,{key:e.id,result:e,openPopup:a})})))},B=a(138);var F=function(e){var t=e.selected,a=e.closePopup;return r.a.createElement("section",{className:"popup"},r.a.createElement("div",{className:"content"},r.a.createElement("h2",null,r.a.createElement("p",null,t.title),r.a.createElement("span",null,t.release_date)),r.a.createElement("p",{className:"rating"},r.a.createElement("span",null,"Popularity: "),t.popularity),r.a.createElement("div",{className:"plot"},null!==t.poster_path?r.a.createElement("img",{src:g+t.poster_path,alt:t.title}):r.a.createElement("img",{src:R.a,alt:"Poster is not available"}),r.a.createElement("p",null,t.overview)),r.a.createElement(B.a,{variant:"contained",color:"secondary",size:"large",onClick:a},"BACK")))},W=function(e){return e.moviesList},D=function(e){return W(e).selected},K=function(e){return W(e).selected.title},L=function(e){return W(e).results},T=function(e){return W(e).totalResults},H=function(e){return W(e).totalPages};var J=function(){var e=Object(n.useState)({s:"",genreId:0,page:1,searchMethod:""}),t=Object(m.a)(e,2),a=t[0],c=t[1],l=Object(o.b)(),s=Object(o.c)(D),i=Object(o.c)(K),p=Object(o.c)(L),g=Object(o.c)(T),b=Object(o.c)(H);return r.a.createElement("div",{className:"App"},r.a.createElement("header",null,r.a.createElement("h1",null,"- Movie Library -")),r.a.createElement("main",null,r.a.createElement(C,{handleInput:function(e){var t=e.target.value;"Enter"===e.key&&t.length>2&&l(O(t,a.page)),c((function(e){return Object(u.a)(Object(u.a)({},e),{},{s:t,searchMethod:"input"})}))},handleSelect:function(e){var t=e.target.value;l(_(t,a.page)),c((function(e){return Object(u.a)(Object(u.a)({},e),{},{genreId:t,searchMethod:"select"})}))},totalResults:g,setGenre:a.genreId}),b>1&&r.a.createElement(d.a,{count:b,page:a.page,onChange:function(e,t){return function(e){"select"===a.searchMethod?l(_(a.genreId,e)):"input"===a.searchMethod&&l(O(a.s,e)),c((function(t){return Object(u.a)(Object(u.a)({},t),{},{page:e})}))}(t)},color:"secondary"}),r.a.createElement(A,{results:p,openPopup:function(e){var t;l((t=e,function(e){h()("".concat(f,"movie/").concat(t,"?api_key=").concat(v)).then((function(t){var a=t.data;e(j(a))}))}))}}),void 0!==i&&r.a.createElement(F,{selected:s,closePopup:function(){l(j({}))}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(99),a(100);var V={results:[],selected:0,totalResults:0,totalPages:0};var q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"results_update":var r=t.payload,c=r.results,l=r.total_results,o=r.total_pages;return Object(u.a)(Object(u.a)({},e),{},{results:c,totalResults:l,totalPages:o});case"results_reset":return Object(u.a)(Object(u.a)({},e),{},{results:[],totalResults:0,totalPages:0});case"selected_details_update":return Object(u.a)(Object(u.a)({},e),{},{selected:n});default:return e}},z=Object(s.c)({moviesList:q}),G=Object(s.d)(z,Object(s.a)(i.a));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,{store:G},r.a.createElement(J,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},40:function(e,t,a){e.exports=a.p+"static/media/no-poster.f211ed62.jpg"},72:function(e,t,a){e.exports=a(101)},99:function(e,t,a){}},[[72,1,2]]]);
//# sourceMappingURL=main.efcb2f7d.chunk.js.map